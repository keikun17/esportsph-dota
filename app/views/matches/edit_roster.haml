.row
  .span12
    %h1 Match Results
    %h2 #{@match.name.titleize}

%hr

.row-fluid
  .span12
    #team_1_players
      %h4 Team 1 : #{@match.team_1.name}

      %table.table
        %tr
          %th Player Name
          %th Hero
          %th K/D/A
          %th CK/CD
          %th Gold
          %th APM
          %th Actions
        - @team_1_player_matches.each do |player_match|
          %tr
            %td= player_match.player.name
            %td= player_match.hero.name if player_match.hero
            %td  #{player_match.kills.to_i}/#{player_match.deaths}/#{player_match.assists}
            %td  #{player_match.creep_kills.to_i}/#{player_match.creep_denies.to_i}
            %td= player_match.gold
            %td= player_match.apm.to_i
            %td= link_to "Edit", "#edit#{player_match.id}", role: "button", data: { toggle: "modal" }

      - @team_1_player_matches.each do |player_match|
        = render 'player_match_fields', modal_id: "edit#{player_match.id}", representative: player_match, team: @match.team_1

      #players_matches-fields
        = link_to "Add Team 1 Player", '#team1Modal', role: "button", data: { toggle: "modal" }
        = render 'player_match_fields', modal_id: 'team1Modal', representative: @match.player_matches.build(team_id: @match.team_1.id), team: @match.team_1

    #team_2_players
      %h4 Team 2 #{@match.team_2.name}

      %table.table
        %tr
          %th Player Name
          %th Hero
          %th K/D/A
          %th CK/CD
          %th Gold
          %th APM
          %th Actions
        - @team_2_player_matches.each do |player_match|
          %tr
            %td= player_match.player.name
            %td= player_match.hero.name if player_match.hero
            %td  #{player_match.kills.to_i}/#{player_match.deaths}/#{player_match.assists}
            %td  #{player_match.creep_kills.to_i}/#{player_match.creep_denies.to_i}
            %td= player_match.gold
            %td= player_match.apm.to_i
            %td= link_to "Edit", "#edit#{player_match.id}", role: "button", data: { toggle: "modal" }

      - @team_2_player_matches.each do |player_match|
        = render 'player_match_fields', modal_id: "edit#{player_match.id}", representative: player_match, team: @match.team_2

      #players_matches-fields
        = link_to "Add Team 2 Player", '#team2Modal', role: "button", data: { toggle: "modal" }
        = render 'player_match_fields', modal_id: 'team2Modal', representative: @match.player_matches.build(team_id: @match.team_2.id), team: @match.team_2

